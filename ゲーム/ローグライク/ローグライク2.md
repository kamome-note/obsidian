以下サイトを参考にゲームを作る。本当に超絶参考になる。

ローグライクを作ったので開発手順をまとめてみた - Qiita
https://qiita.com/2dgames_jp/items/1730e7c4822091c3c320

---
## Step 4. The Map (マップとマップオブジェクト)

TileMapから自動生成するのではなく、GridMapを手作りする。

### KENNEY：無料素材
https://kenney.nl/assets

KENNEYの素材とかひとまず使ってみるかな。
素材をダウンロードしたが対応しているファイル形式が色々ある。

![[Pasted image 20250214032007.png]]
[[ファイル形式]]について調べてみたが、GLB（glTF）ファイルがいいっぽい。

![[Pasted image 20250214033633.png]]
### GridMapの使用
https://docs.godotengine.org/ja/4.x/tutorials/3d/using_gridmaps.html

3Dモデルのファイルからシーンを作成。
実際、この作り方をする必要はない。
RootにNode3Dか何かのノードをぶら下げて、その下に3Dモデルを配置。
最後に、ブランチをシーンとして保存すれば同じこと。
![[Pasted image 20250215022653.png]]

![[Pasted image 20250215022857.png]]
該当のシーンを選んだ状態でエクスポート > メッシュライブラリを選択。
既存のメッシュライブラリを選んで追加するか、新しいメッシュライブラリを作成するかする。
![[Pasted image 20250215023011.png]]
GridMapにどのメッシュライブラリを使うか指定する。
１つのGridMapで１種類のメッシュライブラリしか使えない。
![[Pasted image 20250215023543.png]]
ライブラリからスタンプみたいにペタペタ貼り付けてマップを作成。
左クリックで作成。右クリックで削除。
![[Pasted image 20250215123139.png]]
ただ…、メッシュライブラリで参照するシーンに設定したCollisionShape3Dとの衝突検知ができない…。何故？？
以下の記事を見る限り、ライブラリに設定したCollisionShape3Dも有効なはずだが…。

### Godot4でBlenderファイルからMeshLibraryを作成して、GridMapを使ってみた
https://qiita.com/FootInGlow/items/48710c1798e41d4cc008

どうやらノードの順番が問題らしい。（なんだそれ）

### GridMapが衝突を検知しない（英語）
https://www.reddit.com/r/godot/comments/15dbt0b/gridmaps_are_not_allowing_collisions/

私も同じ問題に遭遇しました。私の場合、メッシュ ライブラリを構築していたシーンが正しく設定されていませんでした。

各タイルのオブジェクト階層は次のようになりました。

- StaticBody3D
    - MeshInstance3D
    - CollisionShape3D

うまくいったのは、階層を次のように並べ替えることです。

- MeshInstance3D
    - StaticBody3D
        - CollisionShape3D

グリッド マップの変更を反映するには、必ず再エクスポート/再インポートを実行してください。お役に立てれば幸いです。





## Step 5. Saving/Loading (保存と読み込み)


## Step 6. It's alice! Alive! (モンスターとターン制)


## Step 7. Interaction (戦闘システム)


## Step 8. Data files (データファイル)


## Step 9. Items (アイテム)

### インベントリの実装

Inventory System
https://godotengine.org/asset-library/asset/1650


## Step 10. Magic (アイテム効果と特殊攻撃)


## Step 11. Simple game (テストプレイ)


## Step 12. Levels (階の生成と移動)


## Step 13. Experience (成長とスキル)


## Step 14. Citizens (店・クエスト・それ以外)


## Step 15. Free at last (あとは自由だ！)
